<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connect4 - Juego</title>
    <link rel="stylesheet" href="css/principal.css">
    <link rel="stylesheet" href="css/juego.css">
    <link rel="stylesheet" href="css/componentes.css">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <h1>Connect4</h1>
            <nav class="nav-principal">
                <button id="btn-menu-header" class="btn-nav">Men√∫ Principal</button>
            </nav>
        </header>

        <!-- Men√∫ Principal -->
        <div id="menu-principal" class="pantalla activa">
            <div class="contenido-principal">
                <h2>Bienvenido a Connect4</h2>
                <p>Selecciona una opci√≥n para comenzar:</p>
                <div class="opciones-menu">
                    <button id="btn-crear-jugador" class="btn btn-primary">
                        üìù Crear Jugador Nuevo
                    </button>
                    <button id="btn-crear-partida" class="btn btn-primary">
                        üéÆ Crear Partida Nueva
                    </button>
                    <button id="btn-cargar-partida" class="btn btn-primary">
                        üìÇ Cargar Partida Existente
                    </button>
                    <button id="btn-escalafon" class="btn btn-primary">
                        üèÜ Mostrar Escalaf√≥n
                    </button>
                </div>
            </div>
        </div>

        <!-- Crear Jugador -->
        <div id="crear-jugador" class="pantalla">
            <div class="contenido-pantalla">
                <h2>Crear Jugador Nuevo</h2>
                <form id="form-crear-jugador" class="formulario">
                    <div class="campo">
                        <label for="identificacion">Identificaci√≥n:</label>
                        <input type="number" id="identificacion" name="identificacion" 
                               placeholder="Ingrese n√∫mero de identificaci√≥n" required>
                        <small class="texto-ayuda">El nombre se completar√° autom√°ticamente</small>
                    </div>
                    <div class="campo">
                        <label for="nombre">Nombre:</label>
                        <input type="text" id="nombre" name="nombre" 
                               placeholder="Se llenar√° autom√°ticamente..." readonly required maxlength="255">
                    </div>
                    <div class="botones">
                        <button type="submit" class="btn btn-success">Crear Jugador</button>
                        <button type="button" id="btn-cancelar-jugador" class="btn btn-secondary">Cancelar</button>
                    </div>
                </form>
                <div id="mensaje-jugador" class="mensaje"></div>
            </div>
        </div>

        <!-- Crear Partida -->
        <div id="crear-partida" class="pantalla">
            <div class="contenido-pantalla">
                <h2>Crear Partida Nueva</h2>
                <form id="form-crear-partida" class="formulario">
                    <div class="campo">
                        <label for="jugador1">Jugador #1:</label>
                        <select id="jugador1" name="jugador1" required>
                            <option value="">Seleccione un jugador</option>
                        </select>
                    </div>
                    <div class="campo">
                        <label for="jugador2">Jugador #2:</label>
                        <select id="jugador2" name="jugador2" required>
                            <option value="">Seleccione un jugador</option>
                        </select>
                    </div>
                    <div class="botones">
                        <button type="submit" class="btn btn-success">Crear Partida</button>
                        <button type="button" id="btn-cancelar-partida" class="btn btn-secondary">Cancelar</button>
                    </div>
                </form>
                <div id="mensaje-partida" class="mensaje"></div>
            </div>
        </div>

        <!-- Juego -->
        <div id="juego" class="pantalla">
            <div class="contenido-juego">
                <div class="info-partida">
                    <h2>Partida en Curso</h2>
                    <div class="jugadores-info">
                        <div class="jugador-info jugador1">
                            <span class="ficha-jugador ficha-roja">‚óè</span>
                            <span id="nombre-jugador1"></span>
                        </div>
                        <div class="vs">VS</div>
                        <div class="jugador-info jugador2">
                            <span class="ficha-jugador ficha-amarilla">‚óè</span>
                            <span id="nombre-jugador2"></span>
                        </div>
                    </div>
                    <div id="turno-actual" class="turno-actual">
                        Es el turno de: <span id="jugador-turno"></span>
                    </div>
                </div>

                <!-- Tablero de Juego -->
                <div class="contenedor-tablero">
                    <div class="botones-columna">
                        <button onclick="jugarColumna('A')" class="btn-columna" data-columna="A">A</button>
                        <button onclick="jugarColumna('B')" class="btn-columna" data-columna="B">B</button>
                        <button onclick="jugarColumna('C')" class="btn-columna" data-columna="C">C</button>
                        <button onclick="jugarColumna('D')" class="btn-columna" data-columna="D">D</button>
                        <button onclick="jugarColumna('E')" class="btn-columna" data-columna="E">E</button>
                        <button onclick="jugarColumna('F')" class="btn-columna" data-columna="F">F</button>
                        <button onclick="jugarColumna('G')" class="btn-columna" data-columna="G">G</button>
                    </div>
                    
                    <table id="tablero-juego" class="tablero-connect4">
                        <tbody id="cuerpo-tablero">
                            <!-- Las filas se generan din√°micamente -->
                        </tbody>
                    </table>
                </div>

                <div class="controles-juego">
                    <button onclick="reiniciarPartida()" class="btn btn-warning">üîÑ Reiniciar Partida</button>
                    <button onclick="mostrarMenuPrincipal()" class="btn btn-secondary">üè† Men√∫ Principal</button>
                </div>

                <div id="resultado-juego" class="resultado-juego"></div>
            </div>
        </div>

        <!-- Cargar Partida -->
        <div id="cargar-partida" class="pantalla">
            <div class="contenido-pantalla">
                <h2>Cargar Partida Existente</h2>
                <div id="lista-partidas" class="lista-partidas">
                    <!-- Las partidas se cargan din√°micamente -->
                </div>
                <div class="botones">
                    <button id="btn-volver-cargar" class="btn btn-secondary">Volver al Men√∫</button>
                </div>
            </div>
        </div>

        <!-- Escalaf√≥n -->
        <div id="escalafon" class="pantalla">
            <div class="contenido-pantalla">
                <h2>Escalaf√≥n de Jugadores</h2>
                <div class="tabla-container">
                    <table id="tabla-escalafon" class="tabla-escalafon">
                        <thead>
                            <tr>
                                <th>Posici√≥n</th>
                                <th>Identificaci√≥n</th>
                                <th>Nombre</th>
                                <th>Marcador</th>
                                <th>Ganadas</th>
                                <th>Perdidas</th>
                                <th>Empatadas</th>
                            </tr>
                        </thead>
                        <tbody id="cuerpo-escalafon">
                            <!-- Los datos se cargan din√°micamente -->
                        </tbody>
                    </table>
                </div>
                <div class="botones">
                    <button onclick="cargarEscalafon()" class="btn btn-primary">üîÑ Actualizar</button>
                    <button id="btn-volver-escalafon" class="btn btn-secondary">Volver al Men√∫</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading overlay -->
    <div id="loading" class="loading">
        <div class="spinner"></div>
        <p>Cargando...</p>
    </div>

    <!-- Scripts -->
    <script src="js/api.js"></script>
    <script src="js/jugadores.js"></script>
    <script src="js/juego.js"></script>
    <script src="js/escalafon.js"></script>
    <script src="js/principal.js"></script>
</body>
</html> 